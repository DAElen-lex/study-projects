# Анализ поведения пользователей мобильного приложения
**Цель** - разобраться, как ведут себя пользователи мобильного приложения стартапа, который продаёт продукты питания. 

**Задачи**: 
Изучить воронку продаж. Узнать, как пользователи доходят до покупки. Сколько пользователей доходит до покупки, а сколько — «застревает» на предыдущих шагах? На каких именно?
После этого исследовать результаты A/A/B-эксперимента. Дизайнеры захотели поменять шрифты во всём приложении, а менеджеры испугались, что пользователям будет непривычно. Договорились принять решение по результатам A/A/B-теста. Пользователей разбили на 3 группы: 2 контрольные со старыми шрифтами и одну экспериментальную — с новыми. Выяснить, какой шрифт лучше.

# Описание данных 
Каждая запись в логе — это действие пользователя, или событие\
<mark>EventName</mark> — название события\
<mark>DeviceIDHash</mark> — уникальный идентификатор пользователя\
<mark>EventTimestamp</mark> — время события\
<mark>ExpId</mark> — номер эксперимента: 246 и 247 — контрольные группы, а 248 — экспериментальная.

# Ход выполения 
### Шаг 1. Подготовить данные

1) Заменить названия столбцов\
2) Проверить пропуски и типы данных. Откорректировать, если нужно\
3) Добавить столбец даты и времени, а также отдельный столбец дат

#### Шаг 2. Изучить и проверить данные

1) Сколько всего событий в логе?\
2) Сколько всего пользователей в логе?\
3) Сколько в среднем событий приходится на пользователя?\
4) За какой период данные? Найти максимальную и минимальную дату. Построить гистограмму по дате и времени. Одинаково ли полные данные за весь период? Технически в логи новых дней по некоторым пользователям могут «доезжать» события из прошлого — это может «перекашивать данные». Определить, с какого момента данные полные и отбросить более старые. Так за какой же период данные на самом деле?\
5) Много ли событий и пользователей потерялось из-за того, что я отбросила старые данные?\
6) Проверить, что есть пользователи из всех трёх экспериментальных групп.

#### Шаг 3. Изучить воронку событий

1) Посмотреть, какие события есть в логах, как часто они встречаются. Отсортировать события по частоте.\
2) Посчитать, сколько пользователей совершали каждое из этих событий. Отсортировать события по числу пользователей. Посчитать долю пользователей, которые хоть раз совершали событие.\
3) Предположить, в каком порядке происходят события. Все ли они выстраиваются в последовательную цепочку? Их не нужно учитывать при расчёте воронки.\
4) По воронке событий посчитать, какая доля пользователей проходит на следующий шаг воронки (от числа пользователей на предыдущем). То есть для последовательности событий A → B → C посчитайте отношение числа пользователей с событием B к количеству пользователей с событием A, а также отношение числа пользователей с событием C к количеству пользователей с событием B.
5) На каком шаге теряется больше всего пользователей?\
6) Какая доля пользователей доходит от первого события до оплаты?

#### Шаг 4. Изучить результаты эксперимента

1) Сколько пользователей в каждой экспериментальной группе?\
2) Есть 2 контрольные группы для А/А-эксперимента, чтобы проверить корректность всех механизмов и расчётов. Проверить, находят ли статистические критерии разницу между выборками 246 и 247.\
3) Выбрать самое популярное событие. Посчитать число пользователей, совершивших это событие в каждой из контрольных групп. Посчитать долю пользователей, совершивших это событие. Проверить, будет ли отличие между группами статистически достоверным. Проделать то же самое для всех других событий (удобно обернуть проверку в отдельную функцию). Можно ли сказать, что разбиение на группы работает корректно?\
4) Аналогично поступить с группой с изменённым шрифтом. Сравнить результаты с каждой из контрольных групп в отдельности по каждому событию. Сравнить результаты с объединённой контрольной группой. Какие выводы из эксперимента можно сделать?\
5) Какой уровень значимости выбрать при проверке статистических гипотез выше? Посчитать, сколько проверок статистических гипотез. При уровне значимости 0.1 каждый десятый раз можно получать ложный результат. Какой уровень значимости стоит применить? Если изменить его, то необходимо проделать предыдущие пункты и проверить свои выводы.

# Выводы
* Проведена первичная обработка данных. Удалены дубликаты, осуществлена проверка на пропуски. Данные приведены к нужным форматам. Столбцы с номерами групп и айди пользователей приведены к формату строки.
* событий в логах -- 243713, а пользователей -- 7551
* в среднем на пользователя приходится 32 события, однако это число сильно завышено из-за аномального поведения некоторых пользователей. Медиана составляет около 20 событий на пользователя. 
* определен период, за который собраны данные. 
* В датасете есть пользователи из всех трех экспериментальных групп и между ними нет пересечений. 
* Изучение воронки продаж выявило лидера из числа событий: большинство пользователей приходит на главную страницу. 
* Из воронки было исключено событие Тьюториал, так как оно опционально и не вписывается в последовательную цепочку событий. 
* Определена конверсия пользователей в целевое действие. На экран с предложением проходит почти 62% пользователей, зашедших на главную страницу приложения. На экран с корзиной из них переходит 81% пользователей. На экран с успешной оплатой попадают из этих 81 % процентов почти 95% пользователей. Самое большое количество юзеров теряется при переходе с главного экрана к предложениям. Либо они сталкиваются с проблемой на этом шаге(неудобный интерфейс, технические проблемы или что-то еще), либо они заходят по ссылке и не хотят продвигаться дальше.
* Всего около 48% пользователей проходят от первого этапа до оплаты.
* У нас три экспериментальные группы: 246 и 247 -- контрольные и 248-ая -- экспериментальная, которая пользуется новым шрифтом. Количественно в группе 246 -- 2484 пользователей, в группе 247 --2513 и в группе 248 -- 2537.
* Был проведен z-тест для групп 246 и 247, в ходе которого не выявлено статистически значимых различий между ними. Соответственно, перешли к А/Б тесту. 
* В ходе проведенных тестов сравнили результаты с каждой из контрольных групп в отдельности по каждому событию, а также отдельно с объединённой контрольной группой. Нулевая гипотеза не была отвергнута, соответственно, можно сделать вывод, что изменение шрифта не приведет к увеличению продаж, а значит можно не тратить деньги на это изменение. Либо можно подождать и пособирать информацию еще пару недель и провести повторный эксперимент, так как неделя -- не такой показательный срок. 
* В случае проведения множественных сравнений была применена поправка -- метод Шидака, который не уменьшил мощность теста. 
